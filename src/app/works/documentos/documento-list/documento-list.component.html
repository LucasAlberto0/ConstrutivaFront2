<div class="documento-list-container">
  <h3>Documentos da Obra</h3>

  <div *ngIf="loading" class="loading-message">Processando...</div>
  <div *ngIf="error" class="error-message">{{ error }}</div>

  <div *ngIf="canManageDocumentos" class="upload-area" (click)="fileInput.click()">
    <input hidden type="file" #fileInput (change)="onFileSelected($event)">
    <div class="upload-content">
      <button class="btn-attach">Anexar Arquivo</button>
      <p class="upload-info">Tamanho m√°ximo: 5MB. Tipos suportados: PDF, DOCX, XLSX.</p>
    </div>
  </div>

  <div class="card documentos-display">
    <h4>Documentos Registrados</h4>
    <ul>
      <li *ngFor="let documento of documentos">
        <span>
          <a [href]="documento.url" target="_blank">{{ documento.nomeArquivo }}</a> ({{ getPastaName(documento.pasta) }})
        </span>
        <button *ngIf="canManageDocumentos" (click)="deleteDocumento(documento.id)" class="btn-delete">Excluir</button>
      </li>
    </ul>
  </div>

  <div *ngIf="!documentos || documentos.length === 0 && !loading" class="no-data-message">
    Nenhum documento registrado para esta obra.
  </div>
</div>