<div class="obra-list-container">
  <h2>Lista de Obras</h2>

  <div class="custom-tab-menu">
    <button (click)="filterObras('Todas')" [class.active]="currentFilter === 'Todas'">Todas</button>
    <button (click)="filterObras('Em Andamento')" [class.active]="currentFilter === 'Em Andamento'">Em Andamento</button>
    <button (click)="filterObras('Em Manutenção')" [class.active]="currentFilter === 'Em Manutenção'">Em Manutenção</button>
    <button (click)="filterObras('Suspensa')" [class.active]="currentFilter === 'Suspensa'">Suspensa</button>
    <button (click)="filterObras('Finalizada')" [class.active]="currentFilter === 'Finalizada'">Finalizada</button>
  </div>

  <div *ngIf="loading" class="loading-message">Carregando obras...</div>
  <div *ngIf="error" class="error-message">{{ error }}</div>

  <div *ngIf="filteredObras.length > 0 && !loading" class="obra-cards">
    <div *ngFor="let obra of filteredObras" class="card obra-card">
      <h3>{{ obra.nome }}</h3>
      <p><strong>Localização:</strong> {{ obra.localizacao }}</p>
      <p><strong>Status:</strong> {{ getStatusName(obra.status) }}</p>
      <p><strong>Início:</strong> {{ obra.dataInicio | date:'shortDate' }}</p>
      <p><strong>Término:</strong> {{ obra.dataTermino | date:'shortDate' }}</p>
      <a [routerLink]="['/obras', obra.id]" class="btn-info">Ver Detalhes</a>
    </div>
  </div>

  <div *ngIf="filteredObras.length === 0 && !loading" class="no-data-message">
    Nenhuma obra encontrada.
  </div>
</div>